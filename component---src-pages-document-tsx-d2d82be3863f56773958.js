"use strict";(self.webpackChunkpower_reader=self.webpackChunkpower_reader||[]).push([[849],{3081:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(3366),a=t(7294),i=t(1597),o=t(8878),u=["variant"];function c(e){var n=(0,o.y)(Object.assign({},e)),t=(e.variant,(0,r.Z)(e,u));return a.createElement(i.Link,Object.assign({},t,{className:n.button+" "+e.className}),e.children)}},8298:function(e,n,t){t.r(n),t.d(n,{default:function(){return k}});var r=t(2982),a=t(7294),i=t(1597),o=t(8525),u=t(9789),c=t(1316),f=t(9980),l=t(3815),s=t(3970),d=t(8878),m=t(1796),v=t(8368),b=t(9019),g=t(3081),h=t(7567),p=t(1819),w=t(3441),Z=(0,p.QM)({label:{color:"#ffffff",display:"block",margin:[0,0,8]},input:{backdropFilter:"blur(2px)",background:"#ffffff0a",border:{color:"#ffffff33",width:[0,0,2,0]},color:"#ffffff",display:"block",fontSize:16,fontFamily:"Helvetica, Arial, sans-serif",height:580,margin:[0,0,32],maxWidth:640,padding:8,resize:"none",transition:"border-color 150ms ease-in-out",width:"100%","&:hover":{border:{color:"#ffffff77"}},"&:active, &:focus":{border:{color:"#ffffffaa"},outline:"none"}}});function E(e){var n,t=Z(),r=(0,a.useContext)(w.L),i=(0,a.useContext)(w.s);if(!e.name)throw new Error("Name is required for an input");var o=(null===(n=r.find((function(n){return n.id===e.name})))||void 0===n?void 0:n.value)||"";return a.createElement(a.Fragment,null,a.createElement("label",{className:t.label,htmlFor:e.name},e.label,":"),a.createElement("textarea",Object.assign({},e,{className:t.input+" "+e.className,value:o,onInput:function(n){return i(e.name,n.currentTarget.value)}})))}function k(){var e=(0,o.FV)(c.K),n=e[0],t=e[1],p=(0,l.Me)(n);return a.createElement(h.Z,null,a.createElement(m.Z,{initialState:p?{name:p.name,content:p.content}:null,onSubmit:function(e){var a={id:(null==p?void 0:p.id)||(0,u.Z)(),name:e.name,content:e.content,readerPosition:0};if(p){var o=(0,r.Z)(n.documents);o[o.indexOf(p)]=a,t(Object.assign({},n,{documents:o}))}else t(Object.assign({},n,{documents:[].concat((0,r.Z)(n.documents),[a])}));(0,i.navigate)(f.Z.Dashboard)}},a.createElement(v.Z,{tag:v.V.H1},p?"Edit document":"New document"),a.createElement(b.Z,{label:"Name",name:"name",required:!0}),a.createElement(E,{label:"Content",name:"content",type:"textarea",required:!0}),a.createElement(s.Z,{variant:d.$.Tertiary},p?"Save":"Create"),a.createElement(g.Z,{to:f.Z.Dashboard,variant:d.$.Tertiary},"Cancel")))}},3815:function(e,n,t){t.d(n,{DY:function(){return o},JQ:function(){return u},ML:function(){return a},Me:function(){return c}});var r=t(2982),a=60;function i(e,n){for(var t=n;t>=0;t--){var a=0===t;if(!e[t])return[e.trim()];if(a)return[e.substring(0,n).trim()].concat((0,r.Z)(i(e.substring(n),n)));if(" "===e[t])return[e.substring(0,t).trim()].concat((0,r.Z)(i(e.substring(t),n)))}return[]}function o(e,n){return void 0===n&&(n=60),i(e,n)}function u(e,n){for(var t=0,r=0;r<e.length;r++){if((t+=e[r].length+1)>=n){var a=t-(e[r].length+1),i=t-a,o=n-a;return{activeLines:[e[r-1]||" ",e[r],e[r+1]||" "],lineProgress:o/i*100}}}throw new Error("Couldn't find reading position in document")}function c(e){if("undefined"!=typeof window){var n=window.location.search,t=new URLSearchParams(n);return e.documents.find((function(e){return e.id===t.get("id")}))}return null}}}]);
//# sourceMappingURL=component---src-pages-document-tsx-d2d82be3863f56773958.js.map