"use strict";(self.webpackChunkpower_reader=self.webpackChunkpower_reader||[]).push([[849],{3081:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(3366),a=t(7294),i=t(1597),o=t(8878),u=["variant"];function c(e){var n=(0,o.y)(Object.assign({},e)),t=(e.variant,(0,r.Z)(e,u));return a.createElement(i.Link,Object.assign({},t,{className:n.button+" "+e.className}),e.children)}},8298:function(e,n,t){t.r(n),t.d(n,{default:function(){return E}});var r=t(2982),a=t(7294),i=t(1597),o=t(9789),u=t(1316),c=t(9980),f=t(3815),l=t(3970),s=t(8878),d=t(1796),m=t(8368),v=t(9019),b=t(3081),g=t(7567),h=t(1819),w=t(3441),p=(0,h.QM)({label:{color:"#ffffff",display:"block",margin:[0,0,8]},input:{backdropFilter:"blur(2px)",background:"#ffffff0a",border:{color:"#ffffff33",width:[0,0,2,0]},color:"#ffffff",display:"block",fontSize:16,fontFamily:"Helvetica, Arial, sans-serif",height:580,margin:[0,0,32],maxWidth:640,padding:8,resize:"none",transition:"border-color 150ms ease-in-out",width:"100%","&:hover":{border:{color:"#ffffff77"}},"&:active, &:focus":{border:{color:"#ffffffaa"},outline:"none"}}});function Z(e){var n,t=p(),r=(0,a.useContext)(w.L),i=(0,a.useContext)(w.s);if(!e.name)throw new Error("Name is required for an input");var o=(null===(n=r.find((function(n){return n.id===e.name})))||void 0===n?void 0:n.value)||"";return a.createElement(a.Fragment,null,a.createElement("label",{className:t.label,htmlFor:e.name},e.label,":"),a.createElement("textarea",Object.assign({},e,{className:t.input+" "+e.className,value:o,onInput:function(n){return i(e.name,n.currentTarget.value)}})))}function E(){var e=(0,u.ec)(),n=e[0],t=e[1],h=(0,f.Me)(n);return a.createElement(g.Z,null,a.createElement(d.Z,{initialState:h?{name:h.name,content:h.content}:null,onSubmit:function(e){var a={id:(null==h?void 0:h.id)||(0,o.Z)(),name:e.name,content:e.content,readerPosition:0};if(h){var u=(0,r.Z)(n.documents);u[u.indexOf(h)]=a,t(Object.assign({},n,{documents:u}))}else t(Object.assign({},n,{documents:[].concat((0,r.Z)(n.documents),[a])}));(0,i.navigate)(c.Z.Dashboard)}},a.createElement(m.Z,{tag:m.V.H1},h?"Edit document":"New document"),a.createElement(v.Z,{label:"Name",name:"name",required:!0}),a.createElement(Z,{label:"Content",name:"content",type:"textarea",required:!0}),a.createElement(l.Z,{variant:s.$.Tertiary},h?"Save":"Create"),a.createElement(b.Z,{to:c.Z.Dashboard,variant:s.$.Tertiary},"Cancel")))}},3815:function(e,n,t){t.d(n,{B3:function(){return a},DY:function(){return u},JQ:function(){return c},ML:function(){return i},Me:function(){return f},yY:function(){return l}});var r=t(2982),a=2,i=60;function o(e,n){for(var t=n;t>=0;t--){var a=0===t;if(!e[t])return[e.trim()];if(a)return[e.substring(0,n).trim()].concat((0,r.Z)(o(e.substring(n),n)));if(" "===e[t])return[e.substring(0,t).trim()].concat((0,r.Z)(o(e.substring(t),n)))}return[]}function u(e,n){return void 0===n&&(n=60),o(e,n)}function c(e,n){for(var t=0,r=0;r<e.length;r++){if((t+=e[r].length+1)>=n){var a=t-(e[r].length+1),i=t-a,o=n-a;return{activeLines:[e[r-1]||" ",e[r],e[r+1]||" "],lineProgress:o/i*100}}}throw new Error("Couldn't find reading position in document")}function f(e){if("undefined"!=typeof window){var n=window.location.search,t=new URLSearchParams(n);return e.documents.find((function(e){return e.id===t.get("id")}))}return null}function l(e){if("undefined"!=typeof window){var n=window.location.search,t=new URLSearchParams(n),r=JSON.parse(t.get("ids"));return e.documents.filter((function(e){return r.includes(e.id)}))}return null}}}]);
//# sourceMappingURL=component---src-pages-document-tsx-1ae1d09aa41627823ce6.js.map