{"version":3,"file":"component---src-pages-multi-reader-tsx-c5a0c8ad0d14217ab554.js","mappings":"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","sources":["webpack://power-reader/./src/components/PlayerControls.tsx","webpack://power-reader/./src/components/ReadZone.tsx","webpack://power-reader/./src/pages/multi-reader.tsx"],"sourcesContent":["import React from 'react';\nimport { Link } from 'gatsby';\nimport { SwitchTransition, CSSTransition } from 'react-transition-group';\nimport { FiFastForward, FiGrid, FiPlay, FiPause, FiRewind, FiRotateCcw } from 'react-icons/fi';\nimport { createUseStyles } from 'react-jss';\nimport { Routes } from '../utils/routes';\n\ntype Props = {\n  isPlaying: boolean;\n  onRewind: () => void;\n  onPlayPause: () => void;\n  onFastForward: () => void;\n  onRestart: () => void;\n}\n\nconst TRANSITION_TIME = 150;\n\nconst useStyles = createUseStyles({\n  button: {\n    backdropFilter: 'blur(2px)',\n    background: '#ffffffee',\n    border: 0,\n    borderRadius: 8,\n    boxShadow: '3px 3px 10px #00000011',\n    color: '#333',\n    cursor: 'pointer',\n    display: 'inline-block',\n    fontSize: 28,\n    margin: [0, 8, 4],\n    padding: [8, 10],\n    verticalAlign: 'middle',\n\n    '& svg': {\n      display: 'block'\n    }\n  },\n  buttonTransition: {\n    '&-enter': {\n      transform: 'scale(0)'\n    },\n\n    '&-enter-active': {\n      transform: 'scale(1)',\n      transition: `transform ${TRANSITION_TIME}ms cubic-bezier(0.34, 1.56, 0.64, 1)`\n    },\n\n    '&-enter-done': {\n      transform: 'scale(1)'\n    },\n\n    '&-exit': {\n      transform: 'scale(1)'\n    },\n\n    '&-exit-active': {\n      transform: 'scale(0)',\n      transition: `transform ${TRANSITION_TIME}ms cubic-bezier(0.34, 1.56, 0.64, 1)`\n    }\n  }\n});\n\nexport default function PlayerControls(props: Props) {\n  const classes = useStyles();\n\n  return (\n    <>\n      <Link className={classes.button} to={Routes.Dashboard}><FiGrid /></Link>\n      <button className={classes.button} onClick={props.onRewind}><FiRewind /></button>\n      <button className={classes.button} onClick={props.onPlayPause}>\n        <SwitchTransition>\n          <CSSTransition\n            key={props.isPlaying ? 'true' : 'false'}\n            timeout={TRANSITION_TIME}\n            classNames={classes.buttonTransition}\n          >\n            {props.isPlaying ? <FiPause /> : <FiPlay />}\n          </CSSTransition>\n        </SwitchTransition>\n      </button>\n      <button className={classes.button} onClick={props.onFastForward}><FiFastForward /></button>\n      <button className={classes.button} onClick={props.onRestart}><FiRotateCcw /></button>\n    </>\n  )\n}\n","import React, { useEffect } from 'react';\nimport { createUseStyles } from 'react-jss';\nimport { useUserState } from '../state/user';\nimport { ReaderDocument } from '../state/user';\nimport { documentToLines, getActiveLines } from '../utils/document';\n\ntype Props = {\n  document: ReaderDocument;\n  isPlaying: boolean;\n  onComplete: () => void;\n  speed: number;\n}\n\ntype Styles = {\n  lineProgress: number;\n}\n\nconst useStyles = createUseStyles({\n  readZone: {\n    display: 'flex',\n    justifyContent: 'center'\n  },\n  readZoneCentered: {\n    border: 0,\n    borderLeft: 'solid 2px #33333333',\n    display: 'inline-block',\n    padding: [16, 32]\n  },\n  textLine: {\n    fontSize: 24,\n    margin: [8, 0],\n    position: 'relative',\n\n    '&::after': {\n      backdropFilter: 'blur(2px)',\n      background: '#0000000f',\n      bottom: 0,\n      boxShadow: '3px 3px 10px #00000011',\n      content: '\"\"',\n      display: 'block',\n      left: 0,\n      height: '100%',\n      position: 'absolute',\n      transform: ({ lineProgress }: Styles) => `scaleX(${lineProgress / 100})`,\n      transformOrigin: 'left',\n      transition: 'transform 20ms linear',\n      width: '100%',\n      zIndex: -1\n    }\n  },\n  paraTextLine: {\n    fontSize: 24,\n    margin: [8, 0],\n    opacity: 0.1\n  }\n});\n\nexport default function ReadZone({\n  document,\n  isPlaying,\n  onComplete,\n  speed\n}: Props) {\n  const [user, setUser] = useUserState();\n\n  const { content, name, readerPosition } = document;\n\n  const lines = documentToLines(content);\n\n  const { activeLines, lineProgress } = getActiveLines(lines, readerPosition);\n\n  useEffect(() => {\n    if (!isPlaying || typeof window === 'undefined') return;\n    if (document.readerPosition >= document.content.length) onComplete();\n  \n    const timeout = window.setTimeout(() => {\n      const updateDocuments = [...user.documents];\n      const activeDocumentIndex = updateDocuments.indexOf(updateDocuments.find((updateDocument) => updateDocument.id === document.id)!);\n      updateDocuments[activeDocumentIndex] = {\n        ...updateDocuments[activeDocumentIndex],\n        readerPosition: updateDocuments[activeDocumentIndex].readerPosition + 1\n      };\n      setUser({\n        ...user,\n        documents: updateDocuments\n      });\n    }, speed * 1000);\n\n    return () => window.clearTimeout(timeout);\n  }, [document, isPlaying, user, setUser]);\n\n  const classes = useStyles({ lineProgress });\n\n  return (\n    <section>\n      <div className={classes.readZone}>\n        <div className={classes.readZoneCentered}>\n          <p className={classes.paraTextLine}>{ activeLines[0] }</p>\n          <p className={classes.textLine}>{ activeLines[1] }</p>\n          <p className={classes.paraTextLine}>{ activeLines[2] }</p>\n        </div>\n      </div>\n    </section>\n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport { SwitchTransition, CSSTransition } from 'react-transition-group';\nimport { navigate } from 'gatsby';\nimport { createUseStyles } from 'react-jss';\nimport { Routes } from '../utils/routes';\nimport { useUserState } from '../state/user';\nimport { getMultiDocument, LETTERS_PER_SECOND } from '../utils/document';\nimport PlayerControls from '../components/PlayerControls';\nimport ReadZone from '../components/ReadZone';\n\nconst TIME_PER_DOCUMENT = 30 * 1000;\nconst READ_SPEED = 1 / LETTERS_PER_SECOND;\nconst TRANSITION_TIME = 200;\n\nconst useStyles = createUseStyles({\n  '@global': {\n    body: {\n      background: 'linear-gradient(125deg, #ffffff, #f0f0f0) !important'\n    }\n  },\n  controlsContainer: {\n    margin: [32, 0, 160],\n    opacity: 0.1,\n    padding: 16,\n    textAlign: 'center',\n    transition: 'opacity 300ms ease-in-out',\n\n    '&:hover, &:focus': {\n      opacity: 1\n    }\n  },\n  headerTransition: {\n    opacity: 0.25,\n    transform: 'translateX(4px)',\n\n    '&-enter': {\n      opacity: 0.25,\n      transform: 'translateX(4px)'\n    },\n\n    '&-enter-active': {\n      opacity: 1,\n      transform: 'translateX(0px)',\n      transition: `opacity ${TRANSITION_TIME}ms cubic-bezier(0.34, 1.56, 0.64, 1), transform ${TRANSITION_TIME}ms cubic-bezier(0.34, 1.56, 0.64, 1)`\n    },\n\n    '&-enter-done': {\n      opacity: 1,\n      transform: 'translateX(0px)',\n    },\n\n    '&-exit': {\n      opacity: 1,\n      transform: 'translateX(0px)',\n    },\n\n    '&-exit-active': {\n      opacity: 0.25,\n      transform: 'translateX(-4px)',\n      transition: `opacity ${TRANSITION_TIME}ms cubic-bezier(0.34, 1.56, 0.64, 1), transform ${TRANSITION_TIME}ms cubic-bezier(0.34, 1.56, 0.64, 1)`\n    },\n\n    '&-exit-done': {\n      opacity: 0.25,\n      transform: 'translateX(4px)'\n    },\n  },\n  transition: {\n    opacity: 0,\n    transform: 'translateX(4px)',\n\n    '&-enter': {\n      opacity: 0,\n      transform: 'translateX(4px)'\n    },\n\n    '&-enter-active': {\n      opacity: 1,\n      transform: 'translateX(0px)',\n      transition: `opacity ${TRANSITION_TIME}ms cubic-bezier(0.34, 1.56, 0.64, 1), transform ${TRANSITION_TIME}ms cubic-bezier(0.34, 1.56, 0.64, 1)`\n    },\n\n    '&-enter-done': {\n      opacity: 1,\n      transform: 'translateX(0px)',\n    },\n\n    '&-exit': {\n      opacity: 1,\n      transform: 'translateX(0px)',\n    },\n\n    '&-exit-active': {\n      opacity: 0,\n      transform: 'translateX(-4px)',\n      transition: `opacity ${TRANSITION_TIME}ms cubic-bezier(0.34, 1.56, 0.64, 1), transform ${TRANSITION_TIME}ms cubic-bezier(0.34, 1.56, 0.64, 1)`\n    },\n\n    '&-exit-done': {\n      opacity: 0,\n      transform: 'translateX(4px)'\n    },\n  }\n});\n\nexport default function MultiReader() {\n  const [user, setUser] = useUserState();\n  const [activeDocumentIndex, setActiveDocumentIndex] = useState(0);\n\n  const documents = getMultiDocument(user);\n\n  if (!documents) {\n    console.error(\"Couldn't find document with this ID\");\n    if (typeof window !== 'undefined') navigate(Routes.Dashboard);\n    return <main />;\n  }\n\n  const [documentIsPlaying, setDocumentIsPlaying] = useState<boolean[]>(documents.map(() => false));\n\n  function onPlayPause() {\n    const newArray = documentIsPlaying.map(() => false);\n    if (!documentIsPlaying.find((isPlaying) => !!isPlaying)) {\n      newArray[activeDocumentIndex] = true;\n    }\n    setDocumentIsPlaying(newArray);\n  }\n\n  function onRewind() {\n    const updateDocuments = [...user.documents];\n    documents!.forEach((document) => {\n      const activeDocumentIndex = updateDocuments.indexOf(updateDocuments.find((updateDocument) => updateDocument.id === document.id)!);\n      updateDocuments[activeDocumentIndex] = {\n        ...updateDocuments[activeDocumentIndex],\n        readerPosition: Math.max(document.readerPosition - 100, 0)\n      };\n    });\n    setUser({\n      ...user,\n      documents: updateDocuments\n    });\n  }\n\n  function onFastForward() {\n    const updateDocuments = [...user.documents];\n    documents!.forEach((document) => {\n      const activeDocumentIndex = updateDocuments.indexOf(updateDocuments.find((updateDocument) => updateDocument.id === document.id)!);\n      updateDocuments[activeDocumentIndex] = {\n        ...updateDocuments[activeDocumentIndex],\n        readerPosition: Math.min(document.readerPosition + 100, document.content.length)\n      };\n    });\n    setUser({\n      ...user,\n      documents: updateDocuments\n    });\n  }\n\n  function onRestart() {\n    const updateDocuments = [...user.documents];\n    documents!.forEach((document) => {\n      const activeDocumentIndex = updateDocuments.indexOf(updateDocuments.find((updateDocument) => updateDocument.id === document.id)!);\n      updateDocuments[activeDocumentIndex] = {\n        ...updateDocuments[activeDocumentIndex],\n        readerPosition: 0\n      };\n    });\n    setUser({\n      ...user,\n      documents: updateDocuments\n    });\n  }\n\n  useEffect(() => {\n    if (!documentIsPlaying.find((isPlaying) => !!isPlaying) || typeof window === 'undefined') return;\n  \n    const timeout = window.setTimeout(() => {\n      const newActiveDocumentIndex = (activeDocumentIndex + 1) % documents.length;\n      const newArray = documentIsPlaying.map(() => false);\n      newArray[newActiveDocumentIndex] = true;\n      setDocumentIsPlaying(newArray);\n      setActiveDocumentIndex(newActiveDocumentIndex);\n    }, TIME_PER_DOCUMENT);\n\n    return () => window.clearTimeout(timeout);\n  }, [documentIsPlaying, setActiveDocumentIndex]);\n\n  const classes = useStyles();\n\n  return (\n    <main>\n      <section className={classes.controlsContainer}>\n        <h1>\n          {documents.map((document, index) => (\n            <CSSTransition\n              in={activeDocumentIndex === index}\n              key={index}\n              timeout={TRANSITION_TIME}\n              classNames={classes.headerTransition}\n            >\n              <span>{ document.name }</span>\n            </CSSTransition>\n          ))}\n        </h1>\n        <PlayerControls\n          isPlaying={!!documentIsPlaying.find((isPlaying) => !!isPlaying)}\n          onRewind={onRewind}\n          onPlayPause={onPlayPause}\n          onFastForward={onFastForward}\n          onRestart={onRestart}\n        />\n      </section>\n      <SwitchTransition>\n        <CSSTransition\n          key={activeDocumentIndex}\n          timeout={TRANSITION_TIME}\n          classNames={classes.transition}\n        >\n          <ReadZone\n            document={documents[activeDocumentIndex]}\n            isPlaying={documentIsPlaying[activeDocumentIndex]}\n            onComplete={() => onPlayPause()}\n            speed={READ_SPEED}\n          />\n        </CSSTransition>\n      </SwitchTransition>\n    </main>\n  );\n}\n"],"names":["useStyles","createUseStyles","button","backdropFilter","background","border","borderRadius","boxShadow","color","cursor","display","fontSize","margin","padding","verticalAlign","buttonTransition","transform","transition","PlayerControls","props","classes","React","Link","className","to","Routes","FiGrid","onClick","onRewind","FiRewind","onPlayPause","SwitchTransition","CSSTransition","key","isPlaying","timeout","classNames","FiPause","FiPlay","onFastForward","FiFastForward","onRestart","FiRotateCcw","readZone","justifyContent","readZoneCentered","borderLeft","textLine","position","bottom","content","left","height","lineProgress","transformOrigin","width","zIndex","paraTextLine","opacity","ReadZone","document","onComplete","speed","useUserState","user","setUser","readerPosition","name","lines","documentToLines","getActiveLines","activeLines","useEffect","window","length","setTimeout","updateDocuments","documents","activeDocumentIndex","indexOf","find","updateDocument","id","clearTimeout","READ_SPEED","LETTERS_PER_SECOND","TRANSITION_TIME","body","controlsContainer","textAlign","headerTransition","MultiReader","useState","setActiveDocumentIndex","getMultiDocument","console","error","navigate","map","documentIsPlaying","setDocumentIsPlaying","newArray","newActiveDocumentIndex","index","in","forEach","Math","max","min"],"sourceRoot":""}