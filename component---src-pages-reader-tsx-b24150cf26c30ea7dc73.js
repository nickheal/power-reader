"use strict";(self.webpackChunkpower_reader=self.webpackChunkpower_reader||[]).push([[482],{9440:function(e,n,t){t.r(n),t.d(n,{default:function(){return x}});var a=t(2982),r=t(7294),i=t(1597),o=t(1819),s=t(9980),l=t(1316),c=t(3815),d=t(5877),u=t(5434),m=t(3750),f=(0,o.QM)({button:{backdropFilter:"blur(2px)",background:"#ffffffee",border:0,borderRadius:8,boxShadow:"3px 3px 10px #00000011",color:"#333",cursor:"pointer",display:"inline-block",fontSize:28,margin:[0,8,4],padding:[8,10],verticalAlign:"middle","& svg":{display:"block"}},buttonTransition:{"&-enter":{transform:"scale(0)"},"&-enter-active":{transform:"scale(1)",transition:"transform 150ms cubic-bezier(0.34, 1.56, 0.64, 1)"},"&-enter-done":{transform:"scale(1)"},"&-exit":{transform:"scale(1)"},"&-exit-active":{transform:"scale(0)",transition:"transform 150ms cubic-bezier(0.34, 1.56, 0.64, 1)"}}});function b(e){var n=f();return r.createElement(r.Fragment,null,r.createElement(i.Link,{className:n.button,to:s.Z.Dashboard},r.createElement(m.aCJ,null)),r.createElement("button",{className:n.button,onClick:e.onRewind},r.createElement(m.lV_,null)),r.createElement("button",{className:n.button,onClick:e.onPlayPause},r.createElement(d.Z,null,r.createElement(u.Z,{key:e.isPlaying?"true":"false",timeout:150,classNames:n.buttonTransition},e.isPlaying?r.createElement(m.R4s,null):r.createElement(m.KCr,null)))),r.createElement("button",{className:n.button,onClick:e.onFastForward},r.createElement(m.iUL,null)),r.createElement("button",{className:n.button,onClick:e.onRestart},r.createElement(m.bxQ,null)))}var p=1/c.ML,g=(0,o.QM)({"@global":{body:{background:"linear-gradient(125deg, #ffffff, #f0f0f0) !important"}},controlsContainer:{margin:[32,0,160],opacity:.1,padding:16,textAlign:"center",transition:"opacity 300ms ease-in-out","&:hover, &:focus":{opacity:1}},readZone:{display:"flex",justifyContent:"center"},readZoneCentered:{border:0,borderLeft:"solid 2px #33333333",display:"inline-block",padding:[16,32]},textLine:{fontSize:24,margin:[8,0],position:"relative","&::after":{backdropFilter:"blur(2px)",background:"#0000000f",bottom:0,boxShadow:"3px 3px 10px #00000011",content:'""',display:"block",left:0,height:"100%",position:"absolute",transform:function(e){return"scaleX("+e.lineProgress/100+")"},transformOrigin:"left",transition:"transform 20ms linear",width:"100%",zIndex:-1}},paraTextLine:{fontSize:24,margin:[8,0],opacity:.1}});function x(){var e=(0,l.ec)(),n=e[0],t=e[1],o=(0,r.useState)(!1),d=o[0],u=o[1],m=(0,c.Me)(n);if(!m)return console.error("Couldn't find document with this ID"),"undefined"!=typeof window&&(0,i.navigate)(s.Z.Dashboard),r.createElement("main",null);var f=m.content,x=m.name,E=m.readerPosition,v=(0,c.DY)(f),w=(0,c.JQ)(v,E),k=w.activeLines,y=w.lineProgress;(0,r.useEffect)((function(){if(d&&"undefined"!=typeof window){if(!(m.readerPosition>=m.content.length)){var e=window.setTimeout((function(){var e=(0,a.Z)(n.documents);e[e.indexOf(m)]=Object.assign({},e[e.indexOf(m)],{readerPosition:e[e.indexOf(m)].readerPosition+1}),t(Object.assign({},n,{documents:e}))}),1e3*p);return function(){return window.clearTimeout(e)}}u(!1)}}),[m,d,n,t]);var P=g({lineProgress:y});return r.createElement("main",null,r.createElement("section",{className:P.controlsContainer},r.createElement("h1",null,x),r.createElement(b,{isPlaying:d,onRewind:function(){var e=(0,a.Z)(n.documents);e[e.indexOf(m)]=Object.assign({},e[e.indexOf(m)],{readerPosition:Math.max(m.readerPosition-100,0)}),t(Object.assign({},n,{documents:e}))},onPlayPause:function(){u(!d)},onFastForward:function(){var e=(0,a.Z)(n.documents);e[e.indexOf(m)]=Object.assign({},e[e.indexOf(m)],{readerPosition:Math.min(m.readerPosition+100,m.content.length)}),t(Object.assign({},n,{documents:e}))},onRestart:function(){var e=(0,a.Z)(n.documents);e[e.indexOf(m)]=Object.assign({},e[e.indexOf(m)],{readerPosition:0}),t(Object.assign({},n,{documents:e}))}})),r.createElement("section",null,r.createElement("div",{className:P.readZone},r.createElement("div",{className:P.readZoneCentered},r.createElement("p",{className:P.paraTextLine},k[0]),r.createElement("p",{className:P.textLine},k[1]),r.createElement("p",{className:P.paraTextLine},k[2])))))}}}]);
//# sourceMappingURL=component---src-pages-reader-tsx-b24150cf26c30ea7dc73.js.map