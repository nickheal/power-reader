{"version":3,"file":"component---src-pages-setup-tsx-bac10c18e83ef868e91d.js","mappings":"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","sources":["webpack://power-reader/./src/components/Button.tsx","webpack://power-reader/./src/components/Form.tsx","webpack://power-reader/./src/components/Heading.tsx","webpack://power-reader/./src/components/Input.tsx","webpack://power-reader/./src/components/Footer.tsx","webpack://power-reader/./src/components/Main.tsx","webpack://power-reader/./src/components/StandardPage.tsx","webpack://power-reader/./src/components/actionStyles.ts","webpack://power-reader/./src/contexts/Form.ts","webpack://power-reader/./src/pages/setup.tsx","webpack://power-reader/./src/state/user.ts","webpack://power-reader/./node_modules/recoil-persist/dist/index.js","webpack://power-reader/./node_modules/uuid/dist/esm-browser/rng.js","webpack://power-reader/./node_modules/uuid/dist/esm-browser/regex.js","webpack://power-reader/./node_modules/uuid/dist/esm-browser/stringify.js","webpack://power-reader/./node_modules/uuid/dist/esm-browser/validate.js","webpack://power-reader/./node_modules/uuid/dist/esm-browser/v4.js"],"sourcesContent":["import React from 'react';\nimport { useStyles, Variant } from './actionStyles';\n\nexport interface Props extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: Variant\n}\n\nexport default function Button(props: Props) {\n  const classes = useStyles({ ...props });\n\n  return (\n    <button\n      {...props}\n      className={`${classes.button} ${props.className}`}\n    />\n  )\n}\n","import React, { useState } from 'react';\nimport { FormContentContext, FormUpdateContext, FormReturn, FormEntry } from '../contexts/Form';\n\ninterface Props extends Omit<React.HTMLProps<HTMLFormElement>, 'onSubmit'> {\n  children?: React.ReactNode,\n  initialState?: { [key: string]: string } | null;\n  onSubmit?: (content: FormReturn) => void;\n}\n\nexport default function Form(props: Props = {}) {\n  const firstState = props.initialState ? Object.keys(props.initialState).map(key => ({ id: key, value: props.initialState![key] })) : [];\n  const [formContentState, setFormContentState] = useState<FormEntry[]>(firstState);\n\n  function updateState(name: string, value: string) {\n    const preexistingState = formContentState.find(({ id }) => id === name);\n    if (preexistingState) {\n      preexistingState.value = value;\n    } else {\n      formContentState.push({\n        id: name,\n        value\n      });\n    }\n    setFormContentState([...formContentState]);\n  }\n\n  async function onSubmit(e: React.FormEvent<HTMLFormElement>) {\n    e.preventDefault();\n\n    if (props.onSubmit) {\n      const formattedReturn = formContentState.reduce((acc: any, val) => {\n        acc[val.id] = val.value;\n        return acc;\n      }, {});\n\n      await props.onSubmit(formattedReturn);\n\n      setFormContentState([]);\n    }\n  }\n\n  const {\n    initialState,\n    ...formProps\n  } = props;\n\n  return (\n    <FormUpdateContext.Provider value={updateState}>\n      <FormContentContext.Provider value={formContentState}>\n        <form {...formProps} onSubmit={onSubmit} />\n      </FormContentContext.Provider>\n    </FormUpdateContext.Provider>\n  )\n}\n","import React from 'react';\nimport { createUseStyles } from 'react-jss';\n\nexport enum Tag {\n  H1 = 'h1',\n  H2 = 'h2',\n  H3 = 'h3',\n  H4 = 'h4',\n  H5 = 'h5',\n  H6 = 'h6',\n  P = 'p'\n} \n\ntype Props = {\n  tag?: Tag;\n}\n\nconst useStyles = createUseStyles({\n  heading: {\n    color: '#ffffff',\n    fontSize: 48,\n    margin: [48, 0]\n  }\n});\n\nexport default function Heading(props: React.ReactNode & Props) {\n  const classes = useStyles();\n\n  const DynamicTag = props?.tag || Tag.P;\n\n  return (\n    <DynamicTag {...props} className={classes.heading} />\n  );\n}","import React, { useContext } from 'react';\nimport { createUseStyles } from 'react-jss';\nimport { FormContentContext, FormUpdateContext } from '../contexts/Form';\n\ninterface Props extends React.HTMLProps<HTMLInputElement> {\n  label: string;\n}\n\nconst useStyles = createUseStyles({\n  label: {\n    color: '#ffffff',\n    display: 'block',\n    margin: [0, 0, 8]\n  },\n  input: {\n    background: 0,\n    border: {\n      color: '#ffffff33',\n      width: [0, 0, 2, 0]\n    },\n    color: '#ffffff',\n    display: 'block',\n    fontSize: 16,\n    margin: [0, 0, 32],\n    maxWidth: 640,\n    padding: 4,\n    transition: 'border-color 150ms ease-in-out',\n    width: '100%',\n\n    '&:hover': {\n      border: {\n        color: '#ffffff77'\n      }\n    },\n\n    '&:active, &:focus': {\n      border: {\n        color: '#ffffffaa'\n      },\n      outline: 'none'\n    }\n  }\n});\n\nexport default function Input(props: Props) {\n  const classes = useStyles();\n\n  const content = useContext(FormContentContext);\n  const update = useContext(FormUpdateContext);\n\n  if (!props.name) {\n    throw new Error(\"Name is required for an input\");\n  }\n\n  const value = content.find(({ id }) => id === props.name)?.value || '';\n\n  return (\n    <>\n      <label className={classes.label} htmlFor={props.name}>{ props.label }:</label>\n      <input\n        {...props}\n        className={`${classes.input} ${props.className}`}\n        value={value}\n        onInput={e => update(props.name!, e.currentTarget.value)}\n      />\n    </>\n  )\n}\n\nexport function UnboundInput(props: Props) {\n  const classes = useStyles();\n\n  if (!props.name) {\n    throw new Error(\"Name is required for an input\");\n  }\n\n  return (\n    <>\n      <label className={classes.label} htmlFor={props.name}>{ props.label }:</label>\n      <input\n        {...props}\n        className={`${classes.input} ${props.className}`}\n      />\n    </>\n  )\n}","import React from 'react';\nimport { Link as RouterLink } from 'gatsby';\nimport { createUseStyles } from 'react-jss';\nimport { FiExternalLink } from 'react-icons/fi';\nimport { Routes } from '../utils/routes';\n\ninterface Props {}\n\nconst useStyles = createUseStyles({\n  footer: {\n    display: 'flex',\n    justifyContent: 'center',\n    padding: 16\n  },\n  link: {\n    color: '#ffffff',\n    margin: [0, 16],\n    opacity: 0.5,\n    transition: 'opacity 200ms ease-in-out',\n\n    '&:hover, &:focus': {\n      opacity: 1\n    },\n\n    '& > svg': {\n      verticalAlign: 'middle'\n    }\n  }\n});\n\nexport default function Button(props: Props) {\n  const classes = useStyles({ ...props });\n\n  return (\n    <footer className={classes.footer}>\n      <RouterLink className={classes.link} to={Routes.About}>About</RouterLink>\n      <a className={classes.link} href=\"https://github.com/nickheal/power-reader\" target=\"_blank\">Open source <FiExternalLink /></a>\n    </footer>\n  );\n}\n","import React from 'react';\nimport { createUseStyles } from 'react-jss';\n\nconst useStyles = createUseStyles({\n  main: {\n    minHeight: 768,\n    padding: [32, 64]\n  }\n});\n\nexport default function Main(props: React.DetailedHTMLProps<React.HTMLAttributes<HTMLElement>, HTMLElement>) {\n  const classes = useStyles();\n\n  return <main {...props} className={classes.main} />\n}\n","import React from 'react';\nimport Footer from '../components/Footer';\nimport Main from '../components/Main';\n\nexport default function StandardPage(props: { children: React.ReactNode }) {\n  return (\n    <>\n      <Main>\n        {props.children}\n      </Main>\n      <Footer />\n    </>\n  )\n}\n","\nimport { createUseStyles } from 'react-jss';\n\nexport enum Variant {\n  Primary = 'primary',\n  Secondary = 'secondary',\n  Tertiary = 'tertiary'\n}\n\ntype ActionProps = {\n  variant?: Variant;\n}\n\nexport const useStyles = createUseStyles({\n  button: {\n    background: (props: ActionProps) => props.variant === Variant.Primary ? 'linear-gradient(125deg, #3a52ffee, #33346dee)' : '#ffffff22',\n    backdropFilter: 'blur(2px)',\n    border: 0,\n    borderRadius: 4,\n    boxShadow: '3px 3px 5px #00000011',\n    color: (props: ActionProps) => {\n      if (props.variant === Variant.Primary) return '#ffffff';\n      if (props.variant === Variant.Secondary) return '#333333';\n      if (props.variant === Variant.Tertiary) return '#ffffff';\n    },\n    cursor: 'pointer',\n    display: 'inline-block',\n    fontFamily: 'Helvetica, Arial, sans-serif',\n    fontSize: (props: ActionProps) => props.variant === Variant.Tertiary ? 24 : 16,\n    margin: 0,\n    marginRight: (props: ActionProps) => props.variant === Variant.Tertiary ? 16 : 0,\n    padding: [10, 12],\n    textDecoration: 'none',\n    transition: 'box-shadow 300ms cubic-bezier(0.34, 1.56, 0.64, 1), transform 300ms cubic-bezier(0.34, 1.56, 0.64, 1)',\n\n    '&:hover, &:focus': {\n      boxShadow: '3px 3px 7px #00000010',\n      transform: 'scale(1.01)'\n    },\n\n    '& > svg': {\n      display: 'block'\n    }\n  }\n});\n","import { createContext } from 'react';\n\nexport interface FormEntry {\n  id: string;\n  value: string;\n}\n\ntype FormUpdate = (name: string, value: string) => void;\n\nexport interface FormReturn {\n  [key: string]: string;\n}\n\nexport const FormContentContext = createContext<FormEntry[]>([]);\nexport const FormUpdateContext = createContext<FormUpdate>(() => {});\n","import React from 'react';\nimport { navigate } from 'gatsby';\nimport { useRecoilState } from 'recoil';\nimport { createUser, userState } from '../state/user';\nimport { Routes } from '../utils/routes';\nimport Button from '../components/Button';\nimport { Variant } from '../components/actionStyles';\nimport Heading, { Tag } from '../components/Heading';\nimport StandardPage from '../components/StandardPage';\nimport Form from '../components/Form';\nimport Input from '../components/Input';\n\nexport default function Setup() {\n  const [, setUser] = useRecoilState(userState);\n\n  function onSubmit(data: any) {\n    setUser(createUser({ firstName: data.firstName }));\n    navigate(Routes.Dashboard);\n  }\n\n  return (\n    <StandardPage>\n      <Form onSubmit={onSubmit}>\n        <Heading tag={Tag.H1}>Setup</Heading>\n        <Input label=\"First name\" name=\"firstName\" required />\n        <Button variant={Variant.Tertiary}>Get started</Button>\n      </Form>\n    </StandardPage>\n  );\n}\n","import { atom, useRecoilState } from 'recoil';\nimport { navigate } from 'gatsby';\nimport { Routes } from '../utils/routes';\nimport { v4 as uuidv4 } from 'uuid';\nimport { recoilPersist } from 'recoil-persist';\nconst { persistAtom } = recoilPersist();\n\nconst ATOM_KEY_USER = 'user';\n\nexport type ReaderDocument = {\n  id: string;\n  name: string;\n  content: string;\n  readerPosition: number;\n}\n\nexport type User = {\n  documents: ReaderDocument[];\n  firstName: string;\n  id: string;\n  readSpeed: number;\n}\n\nexport const userState = atom<User>({\n  key: ATOM_KEY_USER,\n  default: createUser({ firstName: '' }),\n  effects_UNSTABLE: [persistAtom],\n});\n\nexport const useUserState = () => {\n  const currentUserState = useRecoilState(userState);\n\n  const [user] = currentUserState;\n\n  if (typeof window !== 'undefined' && !user.firstName) {\n    navigate(Routes.Introduction);\n  }\n\n  return currentUserState;\n}\n\ntype CreateUser = {\n  firstName: string;\n}\n\nexport function createUser({ firstName }: CreateUser) {\n  return {\n    documents: [],\n    firstName,\n    id: uuidv4(),\n    readSpeed: 60,\n  }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.recoilPersist = void 0;\n/**\n * Recoil module to persist state to storage\n *\n * @param config Optional configuration object\n * @param config.key Used as key in local storage, defaults to `recoil-persist`\n * @param config.storage Local storage to use, defaults to `localStorage`\n */\nconst recoilPersist = (config = {}) => {\n    if (typeof window === 'undefined') {\n        return {\n            persistAtom: () => { },\n        };\n    }\n    const { key = 'recoil-persist', storage = localStorage } = config;\n    const persistAtom = ({ onSet, node, trigger, setSelf }) => {\n        if (trigger === 'get') {\n            const state = getState();\n            if (typeof state.then === 'function') {\n                state.then((s) => {\n                    if (s.hasOwnProperty(node.key)) {\n                        setSelf(s[node.key]);\n                    }\n                });\n            }\n            if (state.hasOwnProperty(node.key)) {\n                setSelf(state[node.key]);\n            }\n        }\n        onSet(async (newValue, _, isReset) => {\n            const state = getState();\n            if (typeof state.then === 'function') {\n                state.then((s) => updateState(newValue, s, node.key, isReset));\n            }\n            else {\n                updateState(newValue, state, node.key, isReset);\n            }\n        });\n    };\n    const updateState = (newValue, state, key, isReset) => {\n        if (isReset) {\n            delete state[key];\n        }\n        else {\n            state[key] = newValue;\n        }\n        setState(state);\n    };\n    const getState = () => {\n        const toParse = storage.getItem(key);\n        if (toParse === null || toParse === undefined) {\n            return {};\n        }\n        if (typeof toParse === 'string') {\n            return parseState(toParse);\n        }\n        if (typeof toParse.then === 'function') {\n            return toParse.then(parseState);\n        }\n        return {};\n    };\n    const parseState = (state) => {\n        if (state === undefined) {\n            return {};\n        }\n        try {\n            return JSON.parse(state);\n        }\n        catch (e) {\n            console.error(e);\n            return {};\n        }\n    };\n    const setState = (state) => {\n        try {\n            if (typeof storage.mergeItem === 'function') {\n                storage.mergeItem(key, JSON.stringify(state));\n            }\n            else {\n                storage.setItem(key, JSON.stringify(state));\n            }\n        }\n        catch (e) {\n            console.error(e);\n        }\n    };\n    return { persistAtom };\n};\nexports.recoilPersist = recoilPersist;\n","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;"],"names":["Button","props","classes","useStyles","React","Object","assign","className","button","Form","firstState","initialState","keys","map","key","id","value","formContentState","setFormContentState","useState","formProps","FormUpdateContext","Provider","name","preexistingState","find","_ref","push","_toConsumableArray","FormContentContext","onSubmit","async","e","preventDefault","formattedReturn","reduce","acc","val","Tag","createUseStyles","heading","color","fontSize","margin","Heading","DynamicTag","tag","P","label","display","input","background","border","width","maxWidth","padding","transition","outline","Input","_content$find","content","useContext","update","Error","htmlFor","onInput","currentTarget","UnboundInput","footer","justifyContent","link","opacity","verticalAlign","RouterLink","to","Routes","About","href","target","FiExternalLink","main","minHeight","Main","StandardPage","children","Footer","Variant","variant","Primary","backdropFilter","borderRadius","boxShadow","Secondary","Tertiary","cursor","fontFamily","marginRight","textDecoration","transform","createContext","Setup","setUser","useRecoilState","userState","data","createUser","firstName","navigate","Dashboard","H1","required","persistAtom","recoilPersist","atom","default","effects_UNSTABLE","useUserState","currentUserState","user","window","Introduction","documents","uuidv4","readSpeed","exports","config","storage","localStorage","updateState","newValue","state","isReset","setState","getState","toParse","getItem","parseState","then","undefined","JSON","parse","console","error","mergeItem","stringify","setItem","onSet","node","trigger","setSelf","s","hasOwnProperty","_","getRandomValues","rnds8","Uint8Array","rng","crypto","bind","msCrypto","uuid","test","byteToHex","i","toString","substr","arr","offset","arguments","length","toLowerCase","TypeError","options","buf","rnds","random"],"sourceRoot":""}