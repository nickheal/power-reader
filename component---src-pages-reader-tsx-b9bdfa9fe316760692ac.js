"use strict";(self.webpackChunkpower_reader=self.webpackChunkpower_reader||[]).push([[382],{1604:function(e,n,t){t.d(n,{A:function(){return m}});var o=t(6540),r=t(4794),a=t(8872),i=t(6634),s=t(1489),l=t(8057),c=t(7848);const d=150,u=(0,l.MA)({button:{backdropFilter:"blur(2px)",background:"#ffffffee",border:0,borderRadius:8,boxShadow:"3px 3px 10px #00000011",color:"#333",cursor:"pointer",display:"inline-block",fontSize:28,margin:[0,8,4],padding:[8,10],verticalAlign:"middle","& svg":{display:"block"}},buttonTransition:{"&-enter":{transform:"scale(0)"},"&-enter-active":{transform:"scale(1)",transition:`transform ${d}ms cubic-bezier(0.34, 1.56, 0.64, 1)`},"&-enter-done":{transform:"scale(1)"},"&-exit":{transform:"scale(1)"},"&-exit-active":{transform:"scale(0)",transition:`transform ${d}ms cubic-bezier(0.34, 1.56, 0.64, 1)`}}});function m(e){const n=u();return o.createElement(o.Fragment,null,o.createElement(r.Link,{className:n.button,to:c.B.Dashboard},o.createElement(s.QPV,null)),o.createElement("button",{className:n.button,onClick:e.onRewind},o.createElement(s.Jj0,null)),o.createElement("button",{className:n.button,onClick:e.onPlayPause},o.createElement(a.A,null,o.createElement(i.A,{key:e.isPlaying?"true":"false",timeout:d,classNames:n.buttonTransition},e.isPlaying?o.createElement(s.GHw,null):o.createElement(s.aze,null)))),o.createElement("button",{className:n.button,onClick:e.onFastForward},o.createElement(s.F$q,null)),o.createElement("button",{className:n.button,onClick:e.onRestart},o.createElement(s.cO3,null)))}},6119:function(e,n,t){t.d(n,{A:function(){return c}});var o=t(4506),r=t(6540),a=t(8057),i=t(5241),s=t(4181);const l=(0,a.MA)({readZone:{display:"flex",justifyContent:"center"},readZoneCentered:{border:0,borderLeft:"solid 2px #33333333",display:"inline-block",minWidth:728,padding:[16,32]},textLine:{fontSize:24,margin:[8,0],position:"relative","&::after":{backdropFilter:"blur(2px)",background:"#0000000f",bottom:0,boxShadow:"3px 3px 10px #00000011",content:'""',display:"block",left:0,height:"100%",position:"absolute",transform:e=>{let{lineProgress:n}=e;return`scaleX(${n/100})`},transformOrigin:"left",transition:"transform 20ms linear",width:"100%",zIndex:-1}},paraTextLine:{fontSize:24,margin:[8,0],opacity:.1}});function c(e){let{document:n,isPlaying:t,onComplete:a,speed:c}=e;const[d,u]=(0,i.Ir)(),{content:m,name:f,readerPosition:p}=n,b=(0,s.SW)(m),{activeLines:g,lineProgress:x}=(0,s.Sw)(b,p);(0,r.useEffect)((()=>{if(!t||"undefined"==typeof window)return;n.readerPosition>=n.content.length&&a();const e=window.setTimeout((()=>{const e=(0,o.A)(d.documents),t=e.indexOf(e.find((e=>e.id===n.id)));e[t]={...e[t],readerPosition:e[t].readerPosition+1},u({...d,documents:e})}),1e3*c);return()=>window.clearTimeout(e)}),[n,t,d,u]);const E=l({lineProgress:x});return r.createElement("section",null,r.createElement("div",{className:E.readZone},r.createElement("div",{className:E.readZoneCentered},r.createElement("p",{className:E.paraTextLine},g[0]),r.createElement("p",{className:E.textLine},g[1]),r.createElement("p",{className:E.paraTextLine},g[2]))))}},3158:function(e,n,t){t.r(n),t.d(n,{default:function(){return f}});var o=t(4506),r=t(6540),a=t(4794),i=t(8057),s=t(7848),l=t(5241),c=t(4181),d=t(1604),u=t(6119);const m=(0,i.MA)({"@global":{body:{background:"linear-gradient(125deg, #ffffff, #f0f0f0) !important"}},controlsContainer:{margin:[32,0,160],opacity:.1,padding:16,textAlign:"center",transition:"opacity 300ms ease-in-out","&:hover, &:focus":{opacity:1}}});function f(){const e=m(),[n,t]=(0,l.Ir)(),{0:i,1:f}=(0,r.useState)(!1),p=(0,c.YE)(n);if(!p)return console.error("Couldn't find document with this ID"),"undefined"!=typeof window&&(0,a.navigate)(s.B.Dashboard),r.createElement("main",null);function b(){f(!i)}return r.createElement("main",null,r.createElement("section",{className:e.controlsContainer},r.createElement("h1",null,p.name),r.createElement(d.A,{isPlaying:i,onRewind:function(){const e=(0,o.A)(n.documents);e[e.indexOf(p)]={...e[e.indexOf(p)],readerPosition:Math.max(p.readerPosition-100,0)},t({...n,documents:e})},onPlayPause:b,onFastForward:function(){const e=(0,o.A)(n.documents);e[e.indexOf(p)]={...e[e.indexOf(p)],readerPosition:Math.min(p.readerPosition+100,p.content.length)},t({...n,documents:e})},onRestart:function(){const e=(0,o.A)(n.documents);e[e.indexOf(p)]={...e[e.indexOf(p)],readerPosition:0},t({...n,documents:e})}})),r.createElement(u.A,{document:p,isPlaying:i,onComplete:b,speed:1/n.readSpeed}))}}}]);
//# sourceMappingURL=component---src-pages-reader-tsx-b9bdfa9fe316760692ac.js.map