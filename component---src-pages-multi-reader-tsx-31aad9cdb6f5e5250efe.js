"use strict";(self.webpackChunkpower_reader=self.webpackChunkpower_reader||[]).push([[438],{1604:function(e,t,n){n.d(t,{A:function(){return u}});var a=n(6540),r=n(8007),o=n(8872),i=n(6634),s=n(7256),c=n(8057),l=n(7848);const m=150,d=(0,c.MA)({button:{backdropFilter:"blur(2px)",background:"#ffffffee",border:0,borderRadius:8,boxShadow:"3px 3px 10px #00000011",color:"#333",cursor:"pointer",display:"inline-block",fontSize:28,margin:[0,8,4],padding:[8,10],verticalAlign:"middle","& svg":{display:"block"}},buttonTransition:{"&-enter":{transform:"scale(0)"},"&-enter-active":{transform:"scale(1)",transition:`transform ${m}ms cubic-bezier(0.34, 1.56, 0.64, 1)`},"&-enter-done":{transform:"scale(1)"},"&-exit":{transform:"scale(1)"},"&-exit-active":{transform:"scale(0)",transition:`transform ${m}ms cubic-bezier(0.34, 1.56, 0.64, 1)`}}});function u(e){const t=d();return a.createElement(a.Fragment,null,a.createElement(r.Link,{className:t.button,to:l.B.Dashboard},a.createElement(s.QPV,null)),a.createElement("button",{className:t.button,onClick:e.onRewind},a.createElement(s.Jj0,null)),a.createElement("button",{className:t.button,onClick:e.onPlayPause},a.createElement(o.A,null,a.createElement(i.A,{key:e.isPlaying?"true":"false",timeout:m,classNames:t.buttonTransition},e.isPlaying?a.createElement(s.GHw,null):a.createElement(s.aze,null)))),a.createElement("button",{className:t.button,onClick:e.onFastForward},a.createElement(s.F$q,null)),a.createElement("button",{className:t.button,onClick:e.onRestart},a.createElement(s.cO3,null)))}},6119:function(e,t,n){n.d(t,{A:function(){return l}});var a=n(4506),r=n(6540),o=n(8057),i=n(5241),s=n(4181);const c=(0,o.MA)({readZone:{display:"flex",justifyContent:"center"},readZoneCentered:{border:0,borderLeft:"solid 2px #33333333",display:"inline-block",minWidth:728,padding:[16,32]},textLine:{fontSize:24,margin:[8,0],position:"relative","&::after":{backdropFilter:"blur(2px)",background:"#0000000f",bottom:0,boxShadow:"3px 3px 10px #00000011",content:'""',display:"block",left:0,height:"100%",position:"absolute",transform:e=>{let{lineProgress:t}=e;return`scaleX(${t/100})`},transformOrigin:"left",transition:"transform 20ms linear",width:"100%",zIndex:-1}},paraTextLine:{fontSize:24,margin:[8,0],opacity:.1}});function l(e){let{document:t,isPlaying:n,onComplete:o,speed:l}=e;const[m,d]=(0,i.Ir)(),{content:u,name:f,readerPosition:p}=t,b=(0,s.SW)(u),{activeLines:x,lineProgress:y}=(0,s.Sw)(b,p);(0,r.useEffect)((()=>{if(!n||"undefined"==typeof window)return;t.readerPosition>=t.content.length&&o();const e=window.setTimeout((()=>{const e=(0,a.A)(m.documents),n=e.indexOf(e.find((e=>e.id===t.id)));e[n]={...e[n],readerPosition:e[n].readerPosition+1},d({...m,documents:e})}),1e3*l);return()=>window.clearTimeout(e)}),[t,n,m,d]);const E=c({lineProgress:y});return r.createElement("section",null,r.createElement("div",{className:E.readZone},r.createElement("div",{className:E.readZoneCentered},r.createElement("p",{className:E.paraTextLine},x[0]),r.createElement("p",{className:E.textLine},x[1]),r.createElement("p",{className:E.paraTextLine},x[2]))))}},3934:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var a=n(4506),r=n(6540),o=n(6634),i=n(8872),s=n(8007),c=n(8057),l=n(7848),m=n(5241),d=n(4181),u=n(1604),f=n(6119);const p=3e4,b=200,x=(0,c.MA)({"@global":{body:{background:"linear-gradient(125deg, #ffffff, #f0f0f0) !important"}},controlsContainer:{margin:[32,0,160],opacity:.1,padding:16,textAlign:"center",transition:"opacity 300ms ease-in-out","&:hover, &:focus":{opacity:1}},headerTransition:{opacity:.25,transform:"translateX(4px)","&-enter":{opacity:.25,transform:"translateX(4px)"},"&-enter-active":{opacity:1,transform:"translateX(0px)",transition:`opacity ${b}ms cubic-bezier(0.34, 1.56, 0.64, 1), transform ${b}ms cubic-bezier(0.34, 1.56, 0.64, 1)`},"&-enter-done":{opacity:1,transform:"translateX(0px)"},"&-exit":{opacity:1,transform:"translateX(0px)"},"&-exit-active":{opacity:.25,transform:"translateX(-4px)",transition:`opacity ${b}ms cubic-bezier(0.34, 1.56, 0.64, 1), transform ${b}ms cubic-bezier(0.34, 1.56, 0.64, 1)`},"&-exit-done":{opacity:.25,transform:"translateX(4px)"}},transition:{opacity:0,transform:"translateX(4px)","&-enter":{opacity:0,transform:"translateX(4px)"},"&-enter-active":{opacity:1,transform:"translateX(0px)",transition:`opacity ${b}ms cubic-bezier(0.34, 1.56, 0.64, 1), transform ${b}ms cubic-bezier(0.34, 1.56, 0.64, 1)`},"&-enter-done":{opacity:1,transform:"translateX(0px)"},"&-exit":{opacity:1,transform:"translateX(0px)"},"&-exit-active":{opacity:0,transform:"translateX(-4px)",transition:`opacity ${b}ms cubic-bezier(0.34, 1.56, 0.64, 1), transform ${b}ms cubic-bezier(0.34, 1.56, 0.64, 1)`},"&-exit-done":{opacity:0,transform:"translateX(4px)"}}});function y(){const[e,t]=(0,m.Ir)(),{0:n,1:c}=(0,r.useState)(0),y=(0,d.dm)(e);if(!y)return console.error("Couldn't find document with this ID"),"undefined"!=typeof window&&(0,s.navigate)(l.B.Dashboard),r.createElement("main",null);const{0:E,1:g}=(0,r.useState)(y.map((()=>!1)));function w(){const e=E.map((()=>!1));E.find((e=>!!e))||(e[n]=!0),g(e)}(0,r.useEffect)((()=>{if(!E.find((e=>!!e))||"undefined"==typeof window)return;const e=window.setTimeout((()=>{const e=(n+1)%y.length,t=E.map((()=>!1));t[e]=!0,g(t),c(e)}),p);return()=>window.clearTimeout(e)}),[E,c]);const h=x();return r.createElement("main",null,r.createElement("section",{className:h.controlsContainer},r.createElement("h1",null,y.map(((e,t)=>r.createElement(o.A,{in:n===t,key:t,timeout:b,classNames:h.headerTransition},r.createElement("span",null,e.name))))),r.createElement(u.A,{isPlaying:!!E.find((e=>!!e)),onRewind:function(){const n=(0,a.A)(e.documents);y.forEach((e=>{const t=n.indexOf(n.find((t=>t.id===e.id)));n[t]={...n[t],readerPosition:Math.max(e.readerPosition-100,0)}})),t({...e,documents:n})},onPlayPause:w,onFastForward:function(){const n=(0,a.A)(e.documents);y.forEach((e=>{const t=n.indexOf(n.find((t=>t.id===e.id)));n[t]={...n[t],readerPosition:Math.min(e.readerPosition+100,e.content.length)}})),t({...e,documents:n})},onRestart:function(){const n=(0,a.A)(e.documents);y.forEach((e=>{const t=n.indexOf(n.find((t=>t.id===e.id)));n[t]={...n[t],readerPosition:0}})),t({...e,documents:n})}})),r.createElement(i.A,null,r.createElement(o.A,{key:n,timeout:b,classNames:h.transition},r.createElement(f.A,{document:y[n],isPlaying:E[n],onComplete:()=>w(),speed:1/e.readSpeed}))))}}}]);
//# sourceMappingURL=component---src-pages-multi-reader-tsx-31aad9cdb6f5e5250efe.js.map