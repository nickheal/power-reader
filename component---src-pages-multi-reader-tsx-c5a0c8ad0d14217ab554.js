"use strict";(self.webpackChunkpower_reader=self.webpackChunkpower_reader||[]).push([[126],{2902:function(e,t,n){n.d(t,{Z:function(){return m}});var r=n(7294),a=n(1597),i=n(5877),o=n(5434),s=n(3750),c=n(1819),l=n(9980),u=(0,c.QM)({button:{backdropFilter:"blur(2px)",background:"#ffffffee",border:0,borderRadius:8,boxShadow:"3px 3px 10px #00000011",color:"#333",cursor:"pointer",display:"inline-block",fontSize:28,margin:[0,8,4],padding:[8,10],verticalAlign:"middle","& svg":{display:"block"}},buttonTransition:{"&-enter":{transform:"scale(0)"},"&-enter-active":{transform:"scale(1)",transition:"transform 150ms cubic-bezier(0.34, 1.56, 0.64, 1)"},"&-enter-done":{transform:"scale(1)"},"&-exit":{transform:"scale(1)"},"&-exit-active":{transform:"scale(0)",transition:"transform 150ms cubic-bezier(0.34, 1.56, 0.64, 1)"}}});function m(e){var t=u();return r.createElement(r.Fragment,null,r.createElement(a.Link,{className:t.button,to:l.Z.Dashboard},r.createElement(s.aCJ,null)),r.createElement("button",{className:t.button,onClick:e.onRewind},r.createElement(s.lV_,null)),r.createElement("button",{className:t.button,onClick:e.onPlayPause},r.createElement(i.Z,null,r.createElement(o.Z,{key:e.isPlaying?"true":"false",timeout:150,classNames:t.buttonTransition},e.isPlaying?r.createElement(s.R4s,null):r.createElement(s.KCr,null)))),r.createElement("button",{className:t.button,onClick:e.onFastForward},r.createElement(s.iUL,null)),r.createElement("button",{className:t.button,onClick:e.onRestart},r.createElement(s.bxQ,null)))}},7837:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(2982),a=n(7294),i=n(1819),o=n(1316),s=n(3815),c=(0,i.QM)({readZone:{display:"flex",justifyContent:"center"},readZoneCentered:{border:0,borderLeft:"solid 2px #33333333",display:"inline-block",padding:[16,32]},textLine:{fontSize:24,margin:[8,0],position:"relative","&::after":{backdropFilter:"blur(2px)",background:"#0000000f",bottom:0,boxShadow:"3px 3px 10px #00000011",content:'""',display:"block",left:0,height:"100%",position:"absolute",transform:function(e){return"scaleX("+e.lineProgress/100+")"},transformOrigin:"left",transition:"transform 20ms linear",width:"100%",zIndex:-1}},paraTextLine:{fontSize:24,margin:[8,0],opacity:.1}});function l(e){var t=e.document,n=e.isPlaying,i=e.onComplete,l=e.speed,u=(0,o.ec)(),m=u[0],f=u[1],d=t.content,p=(t.name,t.readerPosition),b=(0,s.DY)(d),x=(0,s.JQ)(b,p),y=x.activeLines,g=x.lineProgress;(0,a.useEffect)((function(){if(n&&"undefined"!=typeof window){t.readerPosition>=t.content.length&&i();var e=window.setTimeout((function(){var e=(0,r.Z)(m.documents),n=e.indexOf(e.find((function(e){return e.id===t.id})));e[n]=Object.assign({},e[n],{readerPosition:e[n].readerPosition+1}),f(Object.assign({},m,{documents:e}))}),1e3*l);return function(){return window.clearTimeout(e)}}}),[t,n,m,f]);var E=c({lineProgress:g});return a.createElement("section",null,a.createElement("div",{className:E.readZone},a.createElement("div",{className:E.readZoneCentered},a.createElement("p",{className:E.paraTextLine},y[0]),a.createElement("p",{className:E.textLine},y[1]),a.createElement("p",{className:E.paraTextLine},y[2]))))}},431:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var r=n(2982),a=n(7294),i=n(5434),o=n(5877),s=n(1597),c=n(1819),l=n(9980),u=n(1316),m=n(3815),f=n(2902),d=n(7837),p=1/m.ML,b=200,x=(0,c.QM)({"@global":{body:{background:"linear-gradient(125deg, #ffffff, #f0f0f0) !important"}},controlsContainer:{margin:[32,0,160],opacity:.1,padding:16,textAlign:"center",transition:"opacity 300ms ease-in-out","&:hover, &:focus":{opacity:1}},headerTransition:{opacity:.25,transform:"translateX(4px)","&-enter":{opacity:.25,transform:"translateX(4px)"},"&-enter-active":{opacity:1,transform:"translateX(0px)",transition:"opacity 200ms cubic-bezier(0.34, 1.56, 0.64, 1), transform 200ms cubic-bezier(0.34, 1.56, 0.64, 1)"},"&-enter-done":{opacity:1,transform:"translateX(0px)"},"&-exit":{opacity:1,transform:"translateX(0px)"},"&-exit-active":{opacity:.25,transform:"translateX(-4px)",transition:"opacity 200ms cubic-bezier(0.34, 1.56, 0.64, 1), transform 200ms cubic-bezier(0.34, 1.56, 0.64, 1)"},"&-exit-done":{opacity:.25,transform:"translateX(4px)"}},transition:{opacity:0,transform:"translateX(4px)","&-enter":{opacity:0,transform:"translateX(4px)"},"&-enter-active":{opacity:1,transform:"translateX(0px)",transition:"opacity 200ms cubic-bezier(0.34, 1.56, 0.64, 1), transform 200ms cubic-bezier(0.34, 1.56, 0.64, 1)"},"&-enter-done":{opacity:1,transform:"translateX(0px)"},"&-exit":{opacity:1,transform:"translateX(0px)"},"&-exit-active":{opacity:0,transform:"translateX(-4px)",transition:"opacity 200ms cubic-bezier(0.34, 1.56, 0.64, 1), transform 200ms cubic-bezier(0.34, 1.56, 0.64, 1)"},"&-exit-done":{opacity:0,transform:"translateX(4px)"}}});function y(){var e=(0,u.ec)(),t=e[0],n=e[1],c=(0,a.useState)(0),y=c[0],g=c[1],E=(0,m.yY)(t);if(!E)return console.error("Couldn't find document with this ID"),"undefined"!=typeof window&&(0,s.navigate)(l.Z.Dashboard),a.createElement("main",null);var v=(0,a.useState)(E.map((function(){return!1}))),w=v[0],h=v[1];function k(){var e=w.map((function(){return!1}));w.find((function(e){return!!e}))||(e[y]=!0),h(e)}(0,a.useEffect)((function(){if(w.find((function(e){return!!e}))&&"undefined"!=typeof window){var e=window.setTimeout((function(){var e=(y+1)%E.length,t=w.map((function(){return!1}));t[e]=!0,h(t),g(e)}),3e4);return function(){return window.clearTimeout(e)}}}),[w,g]);var P=x();return a.createElement("main",null,a.createElement("section",{className:P.controlsContainer},a.createElement("h1",null,E.map((function(e,t){return a.createElement(i.Z,{in:y===t,key:t,timeout:b,classNames:P.headerTransition},a.createElement("span",null,e.name))}))),a.createElement(f.Z,{isPlaying:!!w.find((function(e){return!!e})),onRewind:function(){var e=(0,r.Z)(t.documents);E.forEach((function(t){var n=e.indexOf(e.find((function(e){return e.id===t.id})));e[n]=Object.assign({},e[n],{readerPosition:Math.max(t.readerPosition-100,0)})})),n(Object.assign({},t,{documents:e}))},onPlayPause:k,onFastForward:function(){var e=(0,r.Z)(t.documents);E.forEach((function(t){var n=e.indexOf(e.find((function(e){return e.id===t.id})));e[n]=Object.assign({},e[n],{readerPosition:Math.min(t.readerPosition+100,t.content.length)})})),n(Object.assign({},t,{documents:e}))},onRestart:function(){var e=(0,r.Z)(t.documents);E.forEach((function(t){var n=e.indexOf(e.find((function(e){return e.id===t.id})));e[n]=Object.assign({},e[n],{readerPosition:0})})),n(Object.assign({},t,{documents:e}))}})),a.createElement(o.Z,null,a.createElement(i.Z,{key:y,timeout:b,classNames:P.transition},a.createElement(d.Z,{document:E[y],isPlaying:w[y],onComplete:function(){return k()},speed:p}))))}}}]);
//# sourceMappingURL=component---src-pages-multi-reader-tsx-c5a0c8ad0d14217ab554.js.map