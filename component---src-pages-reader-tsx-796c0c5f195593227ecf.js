"use strict";(self.webpackChunkpower_reader=self.webpackChunkpower_reader||[]).push([[482],{9440:function(e,n,t){t.r(n),t.d(n,{default:function(){return E}});var a=t(3433),r=t(7294),i=t(1597),o=t(1819),s=t(8525),l=t(9980),c=t(1316),d=t(3815),u=t(5877),m=t(5434),f=t(3750),b=(0,o.QM)({button:{backdropFilter:"blur(2px)",background:"#ffffffee",border:0,borderRadius:8,boxShadow:"3px 3px 10px #00000011",color:"#333",cursor:"pointer",display:"inline-block",fontSize:28,margin:[0,8,4],padding:[8,10],verticalAlign:"middle","& svg":{display:"block"}},buttonTransition:{"&-enter":{transform:"scale(0)"},"&-enter-active":{transform:"scale(1)",transition:"transform 150ms cubic-bezier(0.34, 1.56, 0.64, 1)"},"&-enter-done":{transform:"scale(1)"},"&-exit":{transform:"scale(1)"},"&-exit-active":{transform:"scale(0)",transition:"transform 150ms cubic-bezier(0.34, 1.56, 0.64, 1)"}}});function p(e){var n=b();return r.createElement(r.Fragment,null,r.createElement(i.Link,{className:n.button,to:l.Z.Dashboard},r.createElement(f.aCJ,null)),r.createElement("button",{className:n.button,onClick:e.onRewind},r.createElement(f.lV_,null)),r.createElement("button",{className:n.button,onClick:e.onPlayPause},r.createElement(u.Z,null,r.createElement(m.Z,{key:e.isPlaying?"true":"false",timeout:150,classNames:n.buttonTransition},e.isPlaying?r.createElement(f.R4s,null):r.createElement(f.KCr,null)))),r.createElement("button",{className:n.button,onClick:e.onFastForward},r.createElement(f.iUL,null)),r.createElement("button",{className:n.button,onClick:e.onRestart},r.createElement(f.bxQ,null)))}var g=1/d.ML,x=(0,o.QM)({"@global":{body:{background:"linear-gradient(125deg, #ffffff, #f0f0f0) !important"}},controlsContainer:{margin:[32,0,160],opacity:.1,padding:16,textAlign:"center",transition:"opacity 300ms ease-in-out","&:hover, &:focus":{opacity:1}},readZone:{display:"flex",justifyContent:"center"},readZoneCentered:{border:0,borderLeft:"solid 2px #33333333",display:"inline-block",padding:[16,32]},textLine:{fontSize:24,margin:[8,0],position:"relative","&::after":{backdropFilter:"blur(2px)",background:"#0000000f",bottom:0,boxShadow:"3px 3px 10px #00000011",content:'""',display:"block",left:0,height:"100%",position:"absolute",transform:function(e){return"scaleX("+e.lineProgress/100+")"},transformOrigin:"left",transition:"transform 20ms linear",width:"100%",zIndex:-1}},paraTextLine:{fontSize:24,margin:[8,0],opacity:.1}});function E(){var e=(0,s.FV)(c.K),n=e[0],t=e[1],o=(0,r.useState)(!1),u=o[0],m=o[1],f=(0,d.Me)(n);if(!f)return console.error("Couldn't find document with this ID"),"undefined"!=typeof window&&(0,i.navigate)(l.Z.Dashboard),r.createElement("main",null);var b=f.content,E=f.name,v=f.readerPosition,w=(0,d.DY)(b),k=(0,d.JQ)(w,v),P=k.activeLines,h=k.lineProgress;(0,r.useEffect)((function(){if(u&&window){if(!(f.readerPosition>=f.content.length)){var e=window.setTimeout((function(){var e=n,r=(0,a.Z)(e.documents);r[r.indexOf(f)]=Object.assign({},r[r.indexOf(f)],{readerPosition:r[r.indexOf(f)].readerPosition+1}),t(Object.assign({},e,{documents:r}))}),1e3*g);return function(){return window.clearTimeout(e)}}m(!1)}}),[f,u,n,t]);var y=x({lineProgress:h});return r.createElement("main",null,r.createElement("section",{className:y.controlsContainer},r.createElement("h1",null,E),r.createElement(p,{isPlaying:u,onRewind:function(){var e=n,r=(0,a.Z)(e.documents);r[r.indexOf(f)]=Object.assign({},r[r.indexOf(f)],{readerPosition:Math.max(f.readerPosition-100,0)}),t(Object.assign({},e,{documents:r}))},onPlayPause:function(){m(!u)},onFastForward:function(){var e=n,r=(0,a.Z)(e.documents);r[r.indexOf(f)]=Object.assign({},r[r.indexOf(f)],{readerPosition:Math.min(f.readerPosition+100,f.content.length)}),t(Object.assign({},e,{documents:r}))},onRestart:function(){var e=n,r=(0,a.Z)(e.documents);r[r.indexOf(f)]=Object.assign({},r[r.indexOf(f)],{readerPosition:0}),t(Object.assign({},e,{documents:r}))}})),r.createElement("section",null,r.createElement("div",{className:y.readZone},r.createElement("div",{className:y.readZoneCentered},r.createElement("p",{className:y.paraTextLine},P[0]),r.createElement("p",{className:y.textLine},P[1]),r.createElement("p",{className:y.paraTextLine},P[2])))))}}}]);
//# sourceMappingURL=component---src-pages-reader-tsx-796c0c5f195593227ecf.js.map