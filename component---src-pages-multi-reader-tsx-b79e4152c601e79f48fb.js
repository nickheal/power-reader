"use strict";(self.webpackChunkpower_reader=self.webpackChunkpower_reader||[]).push([[438],{1604:function(e,t,n){n.d(t,{A:function(){return p}});var r=n(6540),o=n(4794),a=n(8872),i=n(6634),s=n(1489),c=n(8057),l=n(7848),d=n(5241);const m=150,u={backdropFilter:"blur(2px)",background:"#ffffffee",border:0,borderRadius:8,boxShadow:"3px 3px 10px #00000011",color:"#333",cursor:"pointer",display:"inline-block",fontSize:28,margin:[0,8,4],padding:[8,10],verticalAlign:"middle","& svg":{display:"block"}},f=(0,c.MA)({button:{...u},buttonTransition:{"&-enter":{transform:"scale(0)"},"&-enter-active":{transform:"scale(1)",transition:`transform ${m}ms cubic-bezier(0.34, 1.56, 0.64, 1)`},"&-enter-done":{transform:"scale(1)"},"&-exit":{transform:"scale(1)"},"&-exit-active":{transform:"scale(0)",transition:`transform ${m}ms cubic-bezier(0.34, 1.56, 0.64, 1)`}},groupedButton:{...u,borderRight:"solid 2px #f7f7f7",marginLeft:0,marginRight:0,opacity:.4,position:"relative","&:first-of-type":{borderRadius:[8,0,0,8]},"&:last-of-type":{borderRadius:[0,8,8,0],borderRight:0}},groupedButtonActive:{opacity:1},groupedButtons:{display:"inline-block",margin:[0,8]}});function p(e){const t=f(),[n,c]=(0,d.Ir)();return r.createElement(r.Fragment,null,r.createElement(o.Link,{className:t.button,to:l.B.Dashboard},r.createElement(s.QPV,null)),r.createElement("button",{className:t.button,onClick:e.onRewind},r.createElement(s.Jj0,null)),r.createElement("button",{className:t.button,onClick:e.onPlayPause},r.createElement(a.A,null,r.createElement(i.A,{key:e.isPlaying?"true":"false",timeout:m,classNames:t.buttonTransition},e.isPlaying?r.createElement(s.GHw,null):r.createElement(s.aze,null)))),r.createElement("button",{className:t.button,onClick:e.onFastForward},r.createElement(s.F$q,null)),r.createElement("button",{className:t.button,onClick:e.onRestart},r.createElement(s.cO3,null)),r.createElement("div",{className:t.groupedButtons},r.createElement("button",{className:`${t.groupedButton}${n.mode===d.Kt.Line?` ${t.groupedButtonActive}`:""}`,onClick:function(){c({...n,mode:d.Kt.Line})}},"Line"),r.createElement("button",{className:`${t.groupedButton}${n.mode===d.Kt.Word?` ${t.groupedButtonActive}`:""}`,onClick:function(){c({...n,mode:d.Kt.Word})}},"Word")))}},6119:function(e,t,n){n.d(t,{A:function(){return c}});var r=n(6540),o=n(8057),a=n(4181),i=n(5892);const s=(0,o.MA)({readZone:{display:"flex",justifyContent:"center"},readZoneCentered:{border:0,borderLeft:"solid 2px #33333333",display:"inline-block",minWidth:728,padding:[16,32]},textLine:{fontSize:24,margin:[8,0],position:"relative","&::after":{backdropFilter:"blur(2px)",background:"#0000000f",bottom:0,boxShadow:"3px 3px 10px #00000011",content:'""',display:"block",left:0,height:"100%",position:"absolute",transform:e=>{let{lineProgress:t}=e;return`scaleX(${t/100})`},transformOrigin:"left",transition:"transform 20ms linear",width:"100%",zIndex:-1}},paraTextLine:{fontSize:24,margin:[8,0],opacity:.1}});function c(e){let{document:t,isPlaying:n,onComplete:o,speed:c}=e;const{content:l,readerPosition:d}=t,m=(0,a.SW)(l),{activeLines:u,lineProgress:f}=(0,a.Sw)(m,d);(0,i.L)(t,n,o,c);const p=s({lineProgress:f});return r.createElement("section",null,r.createElement("div",{className:p.readZone},r.createElement("div",{className:p.readZoneCentered},r.createElement("p",{className:p.paraTextLine},u[0]),r.createElement("p",{className:p.textLine},u[1]),r.createElement("p",{className:p.paraTextLine},u[2]))))}},5892:function(e,t,n){n.d(t,{L:function(){return i}});var r=n(4506),o=n(6540),a=n(5241);function i(e,t,n,i){const[s,c]=(0,a.Ir)();(0,o.useEffect)((()=>{if(!t||"undefined"==typeof window)return;e.readerPosition>=e.content.length&&n();const o=window.setTimeout((()=>{const t=(0,r.A)(s.documents),n=t.indexOf(t.find((t=>t.id===e.id)));t[n]={...t[n],readerPosition:t[n].readerPosition+1},c({...s,documents:t})}),1e3*i);return()=>window.clearTimeout(o)}),[e,t,s,c])}},3934:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var r=n(4506),o=n(6540),a=n(6634),i=n(8872),s=n(4794),c=n(8057),l=n(7848),d=n(5241),m=n(4181),u=n(1604),f=n(6119);const p=3e4,b=200,x=(0,c.MA)({"@global":{body:{background:"linear-gradient(125deg, #ffffff, #f0f0f0) !important"}},controlsContainer:{margin:[32,0,160],opacity:.1,padding:16,textAlign:"center",transition:"opacity 300ms ease-in-out","&:hover, &:focus":{opacity:1}},headerTransition:{opacity:.25,transform:"translateX(4px)","&-enter":{opacity:.25,transform:"translateX(4px)"},"&-enter-active":{opacity:1,transform:"translateX(0px)",transition:`opacity ${b}ms cubic-bezier(0.34, 1.56, 0.64, 1), transform ${b}ms cubic-bezier(0.34, 1.56, 0.64, 1)`},"&-enter-done":{opacity:1,transform:"translateX(0px)"},"&-exit":{opacity:1,transform:"translateX(0px)"},"&-exit-active":{opacity:.25,transform:"translateX(-4px)",transition:`opacity ${b}ms cubic-bezier(0.34, 1.56, 0.64, 1), transform ${b}ms cubic-bezier(0.34, 1.56, 0.64, 1)`},"&-exit-done":{opacity:.25,transform:"translateX(4px)"}},transition:{opacity:0,transform:"translateX(4px)","&-enter":{opacity:0,transform:"translateX(4px)"},"&-enter-active":{opacity:1,transform:"translateX(0px)",transition:`opacity ${b}ms cubic-bezier(0.34, 1.56, 0.64, 1), transform ${b}ms cubic-bezier(0.34, 1.56, 0.64, 1)`},"&-enter-done":{opacity:1,transform:"translateX(0px)"},"&-exit":{opacity:1,transform:"translateX(0px)"},"&-exit-active":{opacity:0,transform:"translateX(-4px)",transition:`opacity ${b}ms cubic-bezier(0.34, 1.56, 0.64, 1), transform ${b}ms cubic-bezier(0.34, 1.56, 0.64, 1)`},"&-exit-done":{opacity:0,transform:"translateX(4px)"}}});function y(){const[e,t]=(0,d.Ir)(),{0:n,1:c}=(0,o.useState)(0),y=(0,m.dm)(e);if(!y)return console.error("Couldn't find document with this ID"),"undefined"!=typeof window&&(0,s.navigate)(l.B.Dashboard),o.createElement("main",null);const{0:g,1:E}=(0,o.useState)(y.map((()=>!1)));function h(){const e=g.map((()=>!1));g.find((e=>!!e))||(e[n]=!0),E(e)}(0,o.useEffect)((()=>{if(!g.find((e=>!!e))||"undefined"==typeof window)return;const e=window.setTimeout((()=>{const e=(n+1)%y.length,t=g.map((()=>!1));t[e]=!0,E(t),c(e)}),p);return()=>window.clearTimeout(e)}),[g,c]);const w=x();return o.createElement("main",null,o.createElement("section",{className:w.controlsContainer},o.createElement("h1",null,y.map(((e,t)=>o.createElement(a.A,{in:n===t,key:t,timeout:b,classNames:w.headerTransition},o.createElement("span",null,e.name))))),o.createElement(u.A,{isPlaying:!!g.find((e=>!!e)),onRewind:function(){const n=(0,r.A)(e.documents);y.forEach((e=>{const t=n.indexOf(n.find((t=>t.id===e.id)));n[t]={...n[t],readerPosition:Math.max(e.readerPosition-100,0)}})),t({...e,documents:n})},onPlayPause:h,onFastForward:function(){const n=(0,r.A)(e.documents);y.forEach((e=>{const t=n.indexOf(n.find((t=>t.id===e.id)));n[t]={...n[t],readerPosition:Math.min(e.readerPosition+100,e.content.length)}})),t({...e,documents:n})},onRestart:function(){const n=(0,r.A)(e.documents);y.forEach((e=>{const t=n.indexOf(n.find((t=>t.id===e.id)));n[t]={...n[t],readerPosition:0}})),t({...e,documents:n})}})),o.createElement(i.A,null,o.createElement(a.A,{key:n,timeout:b,classNames:w.transition},o.createElement(f.A,{document:y[n],isPlaying:g[n],onComplete:()=>h(),speed:1/e.readSpeed}))))}}}]);
//# sourceMappingURL=component---src-pages-multi-reader-tsx-b79e4152c601e79f48fb.js.map